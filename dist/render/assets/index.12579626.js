import{d as M,bV as X,r as Y,c as Z,aJ as ee,a3 as h,a4 as G,aa as e,a9 as t,a5 as o,ao as oe,ab as F,U as H,ad as m,aR as te,al as S,a2 as R,a6 as V,ah as y,bU as T,ai as J,a7 as ne}from"./main.2046a1e9.js";import{_ as se}from"./ProfileSummary.82338a3e.js";import{u as ae,a as le,C as re,S as ie,c as pe,I as ue,D as ce,d as _e,e as de,f as me,_ as fe,g as we,i as U,b as q,h as ge}from"./ShareOnCloud.b7732c6b.js";import{_ as D}from"./Input.866ab710.js";import{_ as he}from"./Dropdown.b3c364ce.js";import{_ as N}from"./Space.0022c150.js";import{_ as K}from"./DataTable.d4de5335.js";import{_ as O,a as j}from"./Grid.73bd99ae.js";import{N as ve}from"./headers.b197b409.js";import"./ScrollBar.07d6490a.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./InputNumber.26803364.js";import"./Suffix.8c4bc0ef.js";import"./use-merged-state.82643886.js";import"./Add.e57c7f6a.js";import"./FormItem.7a91dcd7.js";import"./get.dca81cb3.js";import"./Select.d3505bfe.js";import"./Tag.92553d15.js";import"./cssr.43c4be52.js";import"./use-compitable.19f2c203.js";import"./next-frame-once.e0fd6a2a.js";import"./ipcRenderer.c05eeb53.js";import"./firefox-icon.b1234872.js";import"./Checkbox.6ba8e010.js";const ye={key:0,class:"bulk-actions py-2"},ke=m(" Start "),$e=m(" Stop "),Ce=M({props:{profiles:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(k,{expose:a}){const c=k,{profiles:r}=X(c),{rowProps:s,profileColumns:_,selectedProfile:i,selectedProfiles:n}=ae(),{bulkMoreActions:p,checkedRowKeys:d,cancelBulk:w,startBulkProfiles:v,stopBulkProfiles:g,handleSelectBulkMore:l}=le(),f=Y(""),B=Z(()=>r.value.filter(P=>P.profile_data.name.includes(f.value))),z=ee({pageSize:100});return a({checkedRowKeys:d}),(P,$)=>{const x=D,C=te,u=S,L=he,A=N,Q=K,E=O,W=j;return h(),G(H,null,[e(A,null,{default:t(()=>[e(x,{value:f.value,"onUpdate:value":$[0]||($[0]=b=>f.value=b),type:"text",placeholder:"Search...",clearable:""},null,8,["value"]),e(W,{"x-gap":"12",cols:3},{default:t(()=>[e(E,{span:"2"},{default:t(()=>[o(d).length?(h(),G("div",ye,[e(A,null,{default:t(()=>[e(u,{size:"small",ghost:"",onClick:o(w)},{icon:t(()=>[e(C,null,{default:t(()=>[e(o(re))]),_:1})]),_:1},8,["onClick"]),e(u,{size:"small",type:"primary",onClick:o(v)},{icon:t(()=>[e(C,null,{default:t(()=>[e(o(ie))]),_:1})]),default:t(()=>[ke]),_:1},8,["onClick"]),e(u,{size:"small",ghost:"",type:"error",onClick:o(g)},{icon:t(()=>[e(C,null,{default:t(()=>[e(o(pe))]),_:1})]),default:t(()=>[$e]),_:1},8,["onClick"]),e(L,{trigger:"hover",options:o(p),onSelect:o(l)},{default:t(()=>[e(u,{size:"small"},{default:t(()=>[e(C,null,{default:t(()=>[e(o(ue))]),_:1})]),_:1})]),_:1},8,["options","onSelect"])]),_:1})])):oe("",!0),e(A,{vertical:""},{default:t(()=>{var b;return[e(Q,{"checked-row-keys":o(n),"onUpdate:checked-row-keys":$[1]||($[1]=I=>F(n)?n.value=I:null),columns:o(_),data:(b=f.value)!=null&&b.length?o(B):o(r),"row-props":o(s),"row-key":I=>I.id,loading:k.loading,pagination:o(z),"max-height":700},null,8,["checked-row-keys","columns","data","row-props","row-key","loading","pagination"])]}),_:1})]),_:1}),e(E,null,{default:t(()=>[e(se,{profile:o(i)?o(i):void 0},null,8,["profile"])]),_:1})]),_:1})]),_:1}),e(ce),e(_e),e(de),e(me),e(fe),e(we)],64)}}}),Ge=y("div",null,"Create new Group",-1),Me={class:"d-flex flex-row mt-3 mb-2 align-items-center"},Pe=m(" Cancel "),xe=m(" Create "),be=M({setup(k){const{showModals:a}=U(),c=q(),{profileGroup:r}=R(c),s=()=>{r.value.name="",a.showCreateGroupModal=!1},_=async()=>{try{window.$message.loading("Creating..."),await c.addNewProfileGroup(r.value.name)?(window.$message.success("Profile group created"),s()):window.$message.warning("Profile must be unique")}catch{window.$message.info("Create profile group failed")}finally{window.$message.destroyAll()}};return(i,n)=>{const p=D,d=S,w=N,v=T;return h(),V(v,{show:o(a).showCreateGroupModal,"onUpdate:show":n[1]||(n[1]=g=>o(a).showCreateGroupModal=g),"transform-origin":"center",preset:"dialog","on-mask-click":s},{header:t(()=>[Ge]),action:t(()=>[e(w,null,{default:t(()=>[e(d,{size:"small",onClick:s},{default:t(()=>[Pe]),_:1}),e(d,{size:"small",type:"primary",onClick:_},{default:t(()=>[xe]),_:1})]),_:1})]),default:t(()=>[y("div",Me,[e(p,{value:o(r).name,"onUpdate:value":n[0]||(n[0]=g=>o(r).name=g),autofocus:"",type:"text"},null,8,["value"])])]),_:1},8,["show"])}}}),Se=y("div",null,"Update new Group",-1),Ue={class:"d-flex flex-row mt-3 mb-2 align-items-center"},De=m(" Cancel "),Ne=m(" Update "),Be=M({setup(k){const{showModals:a,seletedGroup:c}=U(),r=q(),{profileGroup:s}=R(r),_=()=>{var n;s.value.name=(n=c.value)==null?void 0:n.name,a.showUpdateGroupModal=!1},i=async()=>{try{window.$message.loading("Creating...");const n=s.value.name;await r.updateProfileGroup(s.value.name,s.value.id)?(window.$message.success("Profile group name updated"),c.value.name=n,_()):window.$message.warning("Profile must be unique")}catch{window.$message.info("Update profile group failed")}finally{window.$message.destroyAll()}};return(n,p)=>{const d=D,w=S,v=N,g=T;return h(),V(g,{show:o(a).showUpdateGroupModal,"onUpdate:show":p[1]||(p[1]=l=>o(a).showUpdateGroupModal=l),"transform-origin":"center",preset:"dialog","on-mask-click":_},{header:t(()=>[Se]),action:t(()=>[e(v,null,{default:t(()=>[e(w,{size:"small",onClick:_},{default:t(()=>[De]),_:1}),e(w,{size:"small",type:"primary",onClick:i},{default:t(()=>[Ne]),_:1})]),_:1})]),default:t(()=>[y("div",Ue,[e(d,{value:o(s).name,"onUpdate:value":p[0]||(p[0]=l=>o(s).name=l),autofocus:"",type:"text"},null,8,["value"])])]),_:1},8,["show"])}}}),ze=m(" Delete profile group: "),Ae={class:"font-700"},Ie=M({setup(k){const{showModals:a,seletedGroup:c}=U(),r=q(),{profileGroup:s}=R(r),_=async()=>{try{window.$message.loading("Deleting...");const{id:i}=s.value;await r.deleteProfileGroup(i),window.$message.info("Profile group deleted")}catch{window.$message.info("Delete profile group failed")}finally{a.showDeleteGroupModal=!1,c.value=null,window.$message.destroyAll()}};return(i,n)=>{const p=T;return h(),V(p,{show:o(a).showDeleteGroupModal,"onUpdate:show":n[0]||(n[0]=d=>o(a).showDeleteGroupModal=d),preset:"dialog",title:"",content:"Are you sure?","positive-text":"Delete","negative-text":"Cancel",onPositiveClick:_},{header:t(()=>[y("div",null,[ze,y("span",Ae,J(o(s).name),1)])]),_:1},8,["show"])}}});const Re={key:0},Ve=m(" New group "),Te={key:1},qe=m(" Edit "),Ee=m(" Delete "),Fe=M({setup(k){const{showModals:a,rowProps:c,groupColumns:r,seletedGroup:s,profileGroups:_,profileGroup:i,keywordSearch:n,searchResults:p,profiles:d,loadingProfiles:w}=U(),v=()=>{i.value.name="",a.showCreateGroupModal=!0};return(g,l)=>{const f=S,B=D,z=K,P=O,$=j,x=N,C=ve;return h(),G(H,null,[o(s)?(h(),G("div",Te,[e(x,null,{default:t(()=>[e(f,{strong:"",secondary:"",circle:"",onClick:l[2]||(l[2]=u=>s.value=null)},{icon:t(()=>[e(o(ne),{type:"arrowBack"})]),_:1}),e(C,null,{default:t(()=>{var u;return[m(J((u=o(s))==null?void 0:u.name),1)]}),_:1}),y("div",null,[e(f,{class:"mr-2",size:"small",ghost:"",type:"primary",onClick:l[3]||(l[3]=u=>o(a).showUpdateGroupModal=!0)},{default:t(()=>[qe]),_:1}),e(f,{size:"small",ghost:"",type:"error",onClick:l[4]||(l[4]=u=>o(a).showDeleteGroupModal=!0)},{default:t(()=>[Ee]),_:1})]),e(Ce,{profiles:o(d),loading:o(w).valueOf()},null,8,["profiles","loading"])]),_:1})])):(h(),G("div",Re,[e(f,{type:"primary",class:"mb-2",onClick:l[0]||(l[0]=u=>v())},{default:t(()=>[Ve]),_:1}),e(x,{vertical:""},{default:t(()=>[e(B,{id:"searchInput",value:o(n),"onUpdate:value":l[1]||(l[1]=u=>F(n)?n.value=u:null),type:"text",placeholder:"Search...",clearable:""},null,8,["value"]),e($,{"x-gap":"12",cols:3},{default:t(()=>[e(P,{span:"2"},{default:t(()=>[e(z,{columns:o(r),data:o(n).length?o(p):o(_),"row-props":o(c)},null,8,["columns","data","row-props"])]),_:1})]),_:1})]),_:1})])),e(be),e(Be),e(Ie),e(ge)],64)}}});var fo=Fe;export{fo as default};
