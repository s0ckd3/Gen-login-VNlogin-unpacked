var I=Object.defineProperty,T=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var U=(d,t,i)=>t in d?I(d,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[t]=i,b=(d,t)=>{for(var i in t||(t={}))F.call(t,i)&&U(d,i,t[i]);if(L)for(var i of L(t))R.call(t,i)&&U(d,i,t[i]);return d},y=(d,t)=>T(d,V(t));import{d as x,ag as q,a2 as D,bV as M,aJ as E,a3 as N,a4 as J,aa as a,a9 as e,ah as p,ai as k,a5 as o,U as O,ad as w,cC as Y,al as S,bU as j,cx as z,a6 as B,h as A,a7 as H}from"./main.2046a1e9.js";import{_ as K,a as Q}from"./Grid.73bd99ae.js";import{_ as W}from"./a.29636055.js";import{_ as $}from"./Space.0022c150.js";import{_ as X}from"./Input.866ab710.js";import{_ as Z}from"./Divider.d0081d08.js";import{_ as aa}from"./DataTable.d4de5335.js";import{_ as sa}from"./Spin.1dac43b1.js";import{_ as ea,a as oa}from"./Tabs.d2f16e6a.js";import"./next-frame-once.e0fd6a2a.js";import"./Suffix.8c4bc0ef.js";import"./use-merged-state.82643886.js";import"./Checkbox.6ba8e010.js";import"./Tag.92553d15.js";import"./get.dca81cb3.js";import"./cssr.43c4be52.js";import"./use-compitable.19f2c203.js";import"./Dropdown.b3c364ce.js";import"./Select.d3505bfe.js";import"./Add.e57c7f6a.js";const ta=p("span",{class:"profile-summary-label"},"Account email",-1),na={class:"profile-summary-data"},ia=p("span",{class:"profile-summary-label"},"Password",-1),la=w(" Change password "),ra=p("span",{class:"profile-summary-label"},"Plan",-1),da={class:"profile-summary-data"},ca=w(" Upgrade "),_a=w(" Logout "),ua={class:"d-flex flex-row mt-3 mb-2 align-items-center"},pa={class:"d-flex flex-row mt-3 mb-2 align-items-center"},ma={class:"d-flex flex-row mt-3 mb-2 align-items-center"},fa=w(" Cancel "),wa=w(" Submit "),ga={name:"General"},ha=x(y(b({},ga),{setup(d){const t=q(),{user:i}=D(t),{email:r,plan:f}=M(i.value),n=E({changePassword:{showModal:!1,submitting:!1,oldPassword:"",newPassword:"",confirmNewPassword:""}}),g=()=>{n.changePassword={showModal:!1,submitting:!1,oldPassword:"",newPassword:"",confirmNewPassword:""}},v=async()=>{const{oldPassword:h,newPassword:s,confirmNewPassword:l}=M(n.changePassword);if(!h.value)window.$message.warning("Old password is required");else if(!s.value)window.$message.warning("New password is required");else if(s.value!==l.value)window.$message.warning("New password is not match");else try{n.changePassword.submitting=!0;const c=await Y({old_password:h.value,new_password:s.value}),{success:u,data:_}=c.data;u?(window.$message.success("Password changed"),g()):_==="Sai m\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i!"&&window.$message.error("Invalid old password")}catch{}finally{n.changePassword.submitting=!1}};return(h,s)=>{const l=K,c=Q,u=W,_=S,P=$,C=X,G=j;return N(),J(O,null,[a(P,{vertical:""},{default:e(()=>[a(c,{cols:12},{default:e(()=>[a(l,{span:"2"},{default:e(()=>[ta]),_:1}),a(l,{span:"10"},{default:e(()=>[p("span",na,k(o(r)),1)]),_:1})]),_:1}),a(c,{cols:12},{default:e(()=>[a(l,{span:"2"},{default:e(()=>[ia]),_:1}),a(l,{span:"10"},{default:e(()=>[a(u,{onClick:s[0]||(s[0]=m=>o(n).changePassword.showModal=!0)},{default:e(()=>[la]),_:1})]),_:1})]),_:1}),a(c,{cols:12},{default:e(()=>[a(l,{span:"2"},{default:e(()=>[ra]),_:1}),a(l,{span:"10"},{default:e(()=>[a(P,null,{default:e(()=>[p("span",da,k(o(f).name),1),p("span",null,"("+k(o(f).profile_limit)+" Profiles)",1),a(_,{type:"primary",onClick:o(t).upgradePlan},{default:e(()=>[ca]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a(_,{type:"error",ghost:"",onClick:o(t).logout},{default:e(()=>[_a]),_:1},8,["onClick"])]),_:1}),a(G,{show:o(n).changePassword.showModal,"onUpdate:show":s[4]||(s[4]=m=>o(n).changePassword.showModal=m),"transform-origin":"center",preset:"dialog",title:"Change your password"},{action:e(()=>[a(P,null,{default:e(()=>[a(_,{size:"small",disabled:o(n).changePassword.submitting,onClick:g},{default:e(()=>[fa]),_:1},8,["disabled"]),a(_,{size:"small",type:"primary",disabled:o(n).changePassword.submitting,loading:o(n).changePassword.submitting,onClick:v},{default:e(()=>[wa]),_:1},8,["disabled","loading"])]),_:1})]),default:e(()=>[p("div",ua,[a(C,{value:o(n).changePassword.oldPassword,"onUpdate:value":s[1]||(s[1]=m=>o(n).changePassword.oldPassword=m),type:"password",placeholder:"Your password"},null,8,["value"])]),p("div",pa,[a(C,{value:o(n).changePassword.newPassword,"onUpdate:value":s[2]||(s[2]=m=>o(n).changePassword.newPassword=m),type:"password",placeholder:"New password"},null,8,["value"])]),p("div",ma,[a(C,{value:o(n).changePassword.confirmNewPassword,"onUpdate:value":s[3]||(s[3]=m=>o(n).changePassword.confirmNewPassword=m),type:"password",placeholder:"Confirm new password"},null,8,["value"])])]),_:1},8,["show"])],64)}}})),Pa=async()=>await z.get("affiliate"),ba=async()=>await z.post("affiliate/create"),ya=w(" Create Link "),va={name:"Affiliate"},Ca=x(y(b({},va),{setup(d,{expose:t}){const i="https://affiliate.genlogin.com/",r=E({loading:!1,submitted:!1,affiliateList:[]}),f=[{title:"#",key:"index",render(s,l){return l+1},width:100},{title:"Link",key:"link",render(s,l){const{affiliate_code:c}=s,u=i+c;return A($,{},{default:()=>[A("span",u),A(H,{type:"copy",size:"20",class:"cursor-pointer",onClick:()=>h(u)})]})}},{title:"Clicks",key:"click"}],n={pageSize:20},g=async()=>{try{r.loading=!0;const s=await Pa(),{success:l,data:c,msg:u}=s.data;if(l){const{affiliates:_}=c;r.affiliateList=_}}catch{}finally{r.loading=!1}};g();const v=async()=>{try{r.submitted=!0;const s=await ba(),{affiliate_code:l}=s.data;window.$message.success(`Code ${l} created`),await g()}catch{}finally{r.submitted=!1}},h=async(s="")=>{await navigator.clipboard.writeText(s),window.$message.success("Copied to clipboard")};return t({AFFILIATE_URL:i}),(s,l)=>{const c=S,u=Z,_=aa,P=sa;return N(),B(o($),{vertical:""},{default:e(()=>[a(c,{type:"primary",loading:o(r).submitted,disabled:o(r).submitted,onClick:v},{default:e(()=>[ya]),_:1},8,["loading","disabled"]),a(u),a(P,{show:o(r).loading},{default:e(()=>[a(_,{columns:f,data:o(r).affiliateList,pagination:n,bordered:!0,"max-height":700},null,8,["data"])]),_:1},8,["show"])]),_:1})}}})),ka={name:"MyAccount"},Aa=x(y(b({},ka),{setup(d){return(t,i)=>{const r=ea,f=oa;return N(),B(f,{"default-value":"General",size:"large"},{default:e(()=>[a(r,{name:"General",tab:"General"},{default:e(()=>[a(ha)]),_:1}),a(r,{name:"Affiliate Program",tab:"Affiliate Program"},{default:e(()=>[a(Ca)]),_:1}),a(r,{name:"Api Automation",tab:"Api Automation"})]),_:1})}}}));var ja=Aa;export{ja as default};
